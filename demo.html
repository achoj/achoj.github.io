<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="./favicon.ico">
    <title>My Blog</title>
    <link rel="stylesheet" href="/source/styles.css">
    <link rel="stylesheet" href="/source/googlecode.min.css">
    <script src="/source/highlight.min.js"></script>
    <script src="/source/showdown.min.js"></script>
    <script src="/my.js"></script>
</head>

<body>
    <header>
        <div class="header-content">
            <span class="hd"><a href="index.html">Achoj's Blog</a></span>
            <span class="homepage"><a href="index.html"><img src="homepage.ico" alt="Homepage" title="Back to homepage" width="15px"></a></span>
            <span class="additional-text">Less is moreeeeeeeeee</span>
        </div>
    </header>
    <div class="content" id="md">

        <p>
            <img src="/images/avatar.png" alt="" width="109px" class="avatar">
            <br>
        <div class="name">Achoj</div>
        </p>
        <hr>
        <p>记录任何我想记录的东西。</p>
        <p>喜欢编程、音乐跟电影。</p>
        <h3>TODO</h3>
        <ul>
            <li>考上研究生</li>
            <li>学会编程</li>
        </ul>

        <h3>文章</h3>

        <div id="file-list">
            <button id="sort-post-time" onclick="sortByPostTime()">Sort by post-time</button>
            <button id="sort-tags" onclick="sortByTags()">Sort by tags</button>
            <div id="post-item"></div>
            <div class="post" data-path="articles-md/2024/3/down.md">Post 1</div>
            <div class="post" data-path="demo2.md">Post 2</div>
            <div class="post" data-path="path_to_post3_file.html">Post 3</div>
            <div class="post" data-path="demo1.md">Post 1</div>
            <div class="post" data-path="demo2.md">Post 2</div>
            <div class="post" data-path="path_to_post3_file.html">Post 3</div>
            <div class="post" data-path="demo1.md">Post 1</div>
            <div class="post" data-path="demo2.md">Post 2</div>
            <div class="post" data-path="path_to_post3_file.html">Post 3</div>

        </div>
        <script>
            function sortByPostTime() {
                var fileList = document.getElementById("file-list");
                var content = document.getElementById("post-item");
                content.innerHTML = ""; // 清空内容
    
                // 获取articles-md目录下的文件列表
                var xhr = new XMLHttpRequest();
                xhr.onreadystatechange = function() {
                    if (xhr.readyState == 4 && xhr.status == 200) {
                        var files = JSON.parse(xhr.responseText);
                        files.forEach(function(folder) {
                            var folderName = Object.keys(folder)[0];
                            var folderFiles = folder[folderName];
                            var h3 = document.createElement("h3");
                            h3.textContent = folderName;
                            content.appendChild(h3);
    
                            if (folderFiles.length > 0) {
                                var ul = document.createElement("ul");
                                folderFiles.forEach(function(file) {
                                    var li = document.createElement("li");
                                    li.textContent = file;
                                    ul.appendChild(li);
                                });
                                content.appendChild(ul);
                            }
                        });
                    }
                };
                xhr.open("GET", "get_files.php", true); // 替换成相应的后端获取文件列表的接口
                xhr.send();
            }
    
            function sortByTags() {
                var content = document.getElementById("content");
                content.innerHTML = "<h3>Hello world</h3>";
            }
    
            // 默认点击sort by post-time按钮
            document.getElementById("sort-post-time").click();
        </script>

    </div>
</body>

</html>